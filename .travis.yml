dist: xenial

language: node_js

node_js:
    - "11"

env:
    - YARNPKG_VERSION=1.12.3

branches:
    except:
        # These branches are used by bors-ng
        - staging.tmp
        - trying.tmp

before_install:
    # Use the yarnpkg installed by self because Travis' builtin yarn is not the latest.
    - curl -o- -L https://yarnpkg.com/install.sh | bash -s -- --version ${YARNPKG_VERSION}
    - export PATH=$HOME/.yarn/bin:$PATH
    # for debugging Travis
    - which yarn
    - echo $PATH

script:
    - make ci

cache:
    yarn: true
